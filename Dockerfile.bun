# Bun test container
FROM oven/bun:1.3.5-slim

WORKDIR /app

# Copy package files
COPY package.json bun.lock* ./

# Install dependencies
RUN bun install --frozen-lockfile

# Copy source code into image (base layer)
# Note: docker-compose volume mounts overlay this for hot-reload during development
COPY . .

# Default command runs all tests
CMD ["bun", "test"]
